
<!DOCTYPE html>
<html lang="ru">
<head>
    <title>–ì–∞–ª–∞–∫—Ç–∏–∫–∞ –¶–µ–Ω–Ω–æ—Å—Ç–µ–π - –ì–∏–º–Ω–∞–∑–∏—è –∏–º. –ï.–ú. –ü—Ä–∏–º–∞–∫–æ–≤–∞</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="description" content="–ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –≥–∞–ª–∞–∫—Ç–∏–∫–∞ —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π —É—á–µ–Ω–∏–∫–æ–≤ –≥–∏–º–Ω–∞–∑–∏–∏">
    <style>
        * { 
            margin: 0; 
            padding: 0; 
            box-sizing: border-box; 
        }
        
        body { 
            background: #000; 
            color: white; 
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif; 
            overflow: hidden; 
            cursor: default;
            -webkit-tap-highlight-color: transparent;
            touch-action: manipulation;
        }
        
        canvas { 
            position: fixed; 

            top: 0; 
            left: 0; 
            width: 100vw; 
            height: 100vh; 
            z-index: 1;
            display: block;
        }
        
        .ui {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 100;
        }
        
        .ui > * {
            pointer-events: auto;
        }
        
        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #ffdd00;
            font-size: 18px;
            text-align: center;

            background: linear-gradient(135deg, rgba(0, 0, 0, 0.95), rgba(20, 20, 40, 0.98));
            padding: 25px;
            border-radius: 20px;
            border: 3px solid;
            border-image: linear-gradient(45deg, #ffdd00, #ff8c00, #ffdd00) 1;
            animation: borderRotate 3s linear infinite;
            box-shadow: 0 0 60px rgba(255, 221, 0, 0.4);
            z-index: 1000;
            width: 90%;
            max-width: 500px;
        }
        
        @keyframes borderRotate {
            0% { border-image-source: linear-gradient(45deg, #ffdd00, #ff8c00, #ffdd00); }
            50% { border-image-source: linear-gradient(135deg, #ffdd00, #ff8c00, #ffdd00); }
            100% { border-image-source: linear-gradient(225deg, #ffdd00, #ff8c00, #ffdd00); }
        }
        
        .loading::after {
            content: '';
            display: block;
            width: 40px;
            height: 40px;
            margin: 20px auto;
            border: 4px solid rgba(255, 221, 0, 0.3);

            border-top-color: #ffdd00;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        .header {
            position: absolute;
            top: 15px;
            left: 50%;
            transform: translateX(-50%);
            background: linear-gradient(135deg, rgba(0, 0, 0, 0.9), rgba(20, 20, 40, 0.95));
            padding: 12px;
            border-radius: 12px;
            border: 2px solid;
            border-image: linear-gradient(45deg, rgba(255, 221, 0, 0.7), rgba(255, 140, 0, 0.5)) 1;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.6);
            z-index: 200;
            text-align: center;
            width: 94%;
            max-width: 600px;
            backdrop-filter: blur(10px);
        }
        
        .header h1 {

            background: linear-gradient(45deg, #ffdd00, #ff8c00);
            -webkit-background-clip: text;
            background-clip: text;
            color: transparent;
            font-size: 20px;
            margin-bottom: 5px;
            text-shadow: 0 0 10px rgba(255, 221, 0, 0.5);
            line-height: 1.2;
            font-weight: 800;
        }
        
        .header p {
            color: #aaddff;
            font-size: 13px;
            line-height: 1.3;
            opacity: 0.9;
        }
        
        .controls {
            position: absolute;
            bottom: 15px;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            gap: 10px;
            background: rgba(0, 0, 0, 0.85);
            padding: 15px;
            border-radius: 15px;
            border: 2px solid rgba(255, 255, 255, 0.15);

            box-shadow: 0 0 40px rgba(0, 0, 0, 0.8);
            z-index: 200;
            width: 94%;
            max-width: 500px;
            backdrop-filter: blur(10px);
        }
        
        .control-btn {
            background: linear-gradient(145deg, rgba(80, 80, 120, 0.95), rgba(50, 50, 80, 0.98));
            color: white;
            font-weight: 600;
            font-size: 15px;
            border: none;
            border-bottom: 3px solid rgba(255, 215, 0, 0.6);
            padding: 14px;
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s ease;
            width: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 10px;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.4);
            letter-spacing: 0.5px;
        }
        
        .control-btn:hover, .control-btn:active {
            background: linear-gradient(145deg, rgba(100, 100, 

150, 0.95), rgba(70, 70, 110, 0.98));
            box-shadow: 0 6px 20px rgba(255, 215, 0, 0.4);
            border-bottom-color: rgba(255, 215, 0, 0.9);
        }
        
        .stats-btn {
            background: linear-gradient(145deg, rgba(65, 105, 180, 0.95), rgba(45, 85, 160, 0.98));
            border-bottom: 3px solid rgba(65, 105, 225, 0.6);
        }
        
        .stats-btn:hover, .stats-btn:active {
            background: linear-gradient(145deg, rgba(85, 125, 200, 0.95), rgba(65, 105, 180, 0.98));
        }
        
        .info-btn {
            background: linear-gradient(145deg, rgba(50, 180, 50, 0.95), rgba(30, 160, 30, 0.98));
            border-bottom: 3px solid rgba(50, 205, 50, 0.6);
        }
        
        .info-btn:hover, .info-btn:active {
            background: linear-gradient(145deg, rgba(70, 200, 70, 0.95), rgba(50, 180, 50, 0.98));
        }
        
        /* –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –°–¢–ò–õ–¨ TOOLTIP */
        .tooltip {
            position: fixed; /* –ò–∑–º–µ–Ω–µ–Ω–æ —Å absolute –Ω–∞ fixed */

            background: rgba(0, 0, 0, 0.97);
            color: white;
            padding: 15px;
            border-radius: 12px;
            font-size: 14px;
            pointer-events: none;
            opacity: 0;
            transition: opacity 0.3s;
            border: 2px solid #ffdd00;
            box-shadow: 0 0 40px rgba(255, 221, 0, 0.4);
            max-width: 320px;
            min-width: 280px;
            z-index: 10000; /* –£–≤–µ–ª–∏—á–µ–Ω–æ –¥–ª—è –Ω–∞–¥–µ–∂–Ω–æ—Å—Ç–∏ */
            line-height: 1.4;
            backdrop-filter: blur(10px);
            /* –ì–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ–º, —á—Ç–æ –ø–æ–¥—Å–∫–∞–∑–∫–∞ –Ω–µ –≤—ã–π–¥–µ—Ç –∑–∞ —ç–∫—Ä–∞–Ω */
            max-width: 90vw; /* –ú–∞–∫—Å–∏–º—É–º 90% —à–∏—Ä–∏–Ω—ã —ç–∫—Ä–∞–Ω–∞ */
            word-wrap: break-word;
            overflow-wrap: break-word;
        }
        
        /* –î–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
        @media (max-width: 480px) {
            .tooltip {
                max-width: 95vw;
                padding: 12px;
                font-size: 13px;
                min-width: 250px;

            }
        }
        
        /* –î–ª—è —Å–æ–≤—Å–µ–º –∫—Ä–æ—à–µ—á–Ω—ã—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
        @media (max-width: 350px) {
            .tooltip {
                max-width: 98vw;
                min-width: 220px;
                padding: 10px;
                font-size: 12px;
            }
        }
        
        .star-name {
            color: #ffdd00;
            font-weight: bold;
            margin-bottom: 8px;
            font-size: 16px;
            word-break: break-word;
        }
        
        .star-info {
            color: #aaddff;
            font-size: 13px;
            margin-bottom: 6px;
            line-height: 1.3;
            word-break: break-word;
        }
        
        .overlay {

            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.98);
            display: none;
            justify-content: center;
            align-items: center;
            z-index: 10000;
            padding: 15px;
            overflow-y: auto;
        }
        
        .modal-container {
            background: linear-gradient(135deg, rgba(20, 20, 40, 0.98), rgba(15, 15, 35, 0.99));
            padding: 20px;
            border-radius: 15px;
            width: 100%;
            max-width: 500px;
            border: 2px solid;
            border-image: linear-gradient(45deg, rgba(255, 215, 0, 0.6), rgba(65, 105, 225, 0.6)) 1;
            box-shadow: 0 20px 50px rgba(0, 0, 0, 0.8);
            max-height: 85vh;
            overflow-y: auto;
        }
        
        .modal-header {

            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
        }
        
        .modal-header h2 {
            color: #ffd700;
            font-size: 20px;
            text-shadow: 0 0 10px rgba(255, 215, 0, 0.5);
            line-height: 1.2;
        }
        
        .close-btn {
            background: linear-gradient(145deg, rgba(255, 80, 80, 0.95), rgba(220, 60, 60, 0.98));
            color: white;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            cursor: pointer;
            font-size: 22px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s ease;
            flex-shrink: 0;
            border-bottom: 3px solid rgba(255, 0, 0, 0.6);
        }

        
        .close-btn:hover, .close-btn:active {
            background: linear-gradient(145deg, rgba(255, 100, 100, 0.95), rgba(240, 80, 80, 0.98));
            transform: scale(1.05);
        }
        
        .form-group {
            margin-bottom: 20px;
            width: 100%;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 10px;
            color: #ffd700;
            font-weight: bold;
            font-size: 15px;
        }
        
        .form-group input,
        .form-group textarea,
        .form-group select {
            width: 100%;
            padding: 12px;
            background: rgba(10, 10, 20, 0.9);
            border: 2px solid rgba(65, 105, 225, 0.5);
            border-radius: 10px;
            color: white;
            font-size: 15px;

            transition: all 0.3s;
            font-family: inherit;
        }
        
        .form-group select {
            background: rgba(10, 10, 20, 0.9) url("data:image/svg+xml;charset=UTF-8,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='white'%3e%3cpath d='M7 10l5 5 5-5z'/%3e%3c/svg%3e") no-repeat right 12px center;
            background-size: 18px;
            padding-right: 40px;
        }
        
        .form-group input:focus,
        .form-group textarea:focus,
        .form-group select:focus {
            outline: none;
            border-color: rgba(255, 215, 0, 0.8);
            background: rgba(15, 15, 25, 0.95);
        }
        
        .form-group textarea {
            min-height: 100px;
            resize: vertical;
        }
        
        .value-options {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 10px;

            margin-top: 10px;
        }
        
        .value-option {
            padding: 14px;
            background: linear-gradient(135deg, rgba(40, 40, 70, 0.8), rgba(30, 30, 60, 0.9));
            border: 2px solid rgba(65, 105, 225, 0.4);
            border-radius: 10px;
            cursor: pointer;
            transition: all 0.3s;
            text-align: center;
            font-weight: bold;
            color: white;
            font-size: 14px;
        }
        
        .value-option:hover, .value-option:active {
            border-color: rgba(255, 215, 0, 0.6);
            background: linear-gradient(135deg, rgba(60, 60, 100, 0.8), rgba(50, 50, 90, 0.9));
        }
        
        .value-option.selected {
            background: linear-gradient(135deg, rgba(255, 215, 0, 0.2), rgba(255, 185, 0, 0.3));
            border-color: rgba(255, 215, 0, 0.8);
            color: #ffdd00;
        }
        

        .submit-btn {
            width: 100%;
            background: linear-gradient(45deg, #32cd32, #00ced1);
            color: black;
            border: none;
            padding: 16px;
            border-radius: 10px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 20px;
            transition: all 0.3s;
            border-bottom: 3px solid rgba(0, 200, 200, 0.6);
        }
        
        .submit-btn:hover, .submit-btn:active {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(50, 205, 50, 0.4);
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 15px;
            margin-bottom: 25px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, rgba(30, 30, 50, 

0.9), rgba(20, 20, 40, 0.95));
            padding: 15px;
            border-radius: 12px;
            border: 2px solid rgba(255, 215, 0, 0.3);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.5);
        }
        
        .stat-card h3 {
            color: #ffd700;
            margin-bottom: 10px;
            font-size: 14px;
        }
        
        .stat-value {
            font-size: 22px;
            font-weight: bold;
            color: #aaddff;
            text-shadow: 0 0 8px rgba(170, 221, 255, 0.5);
            line-height: 1.2;
        }
        
        /* Google Forms –∫–Ω–æ–ø–∫–∞ */
        .google-form-btn {
            width: 100%;
            background: linear-gradient(45deg, #4285f4, #34a853);
            color: white;
            border: none;
            padding: 16px;
            border-radius: 10px;

            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin-top: 15px;
            text-decoration: none;
            display: block;
            text-align: center;
            border-bottom: 3px solid rgba(66, 133, 244, 0.6);
        }
        
        .google-form-btn:hover, .google-form-btn:active {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(66, 133, 244, 0.4);
        }
        
        /* –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –¥–ª—è –¥–µ—Ç–µ–π - —Å—Ç–∏–ª–∏ */
        .info-block {
            background: rgba(255,215,0,0.1);
            padding: 15px;
            border-radius: 10px;
            margin-bottom: 15px;
            border-left: 4px solid #ffd700;
        }
        
        .info-block h3 {
            color: #ffd700;
            margin-top: 0;
            margin-bottom: 10px;
            font-size: 16px;
        }

        
        .info-block p {
            color: #aaddff;
            margin: 0;
            line-height: 1.4;
        }
        
        .feature-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 10px;
            margin: 15px 0;
        }
        
        .feature-item {
            background: rgba(65, 105, 225, 0.1);
            padding: 10px;
            border-radius: 8px;
            text-align: center;
            font-size: 13px;
            line-height: 1.3;
        }
        
        .feature-icon {
            font-size: 20px;
            margin-bottom: 5px;
            display: block;
        }
        
        .step-list {

            margin: 15px 0;
        }
        
        .step-item {
            margin-bottom: 12px;
            padding-left: 25px;
            position: relative;
        }
        
        .step-item:before {
            content: "‚Üí";
            position: absolute;
            left: 0;
            color: #ffdd00;
            font-weight: bold;
        }
        
        .distribution-list {
            max-height: 250px;
            overflow-y: auto;
        }
        
        .distribution-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            padding: 8px;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            font-size: 13px;

        }
        
        /* –î–ª—è –æ—á–µ–Ω—å –º–∞–ª–µ–Ω—å–∫–∏—Ö —ç–∫—Ä–∞–Ω–æ–≤ */
        @media (max-width: 350px) {
            .header h1 { font-size: 18px; }
            .header p { font-size: 12px; }
            .control-btn { font-size: 14px; padding: 12px; }
            .value-options { grid-template-columns: 1fr; }
            .modal-container { padding: 15px; }
            .feature-grid { grid-template-columns: 1fr; }
            .info-block { padding: 12px; }
        }
        
        /* –î–ª—è –ø–ª–∞–Ω—à–µ—Ç–æ–≤ */
        @media (min-width: 768px) {
            .header { top: 25px; padding: 20px; max-width: 700px; }
            .header h1 { font-size: 24px; }
            .header p { font-size: 16px; }
            .controls { flex-direction: row; bottom: 25px; max-width: 700px; }
            .control-btn { min-width: 200px; font-size: 16px; }
            .modal-container { max-width: 600px; padding: 25px; }
        }
        
        /* –ê–Ω–∏–º–∞—Ü–∏–∏ */
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        

        .modal-container {
            animation: fadeIn 0.3s ease-out;
        }
        
        /* –°–∫—Ä–æ–ª–ª–±–∞—Ä */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: rgba(0, 0, 0, 0.3); }
        ::-webkit-scrollbar-thumb { background: linear-gradient(45deg, #ffd700, #ff8c00); border-radius: 3px; }
    </style>
</head>
<body>
    <canvas id="canvas"></canvas>
    
    <div class="ui">
        <div class="loading" id="loading">
            üöÄ –ó–∞–≥—Ä—É–∂–∞–µ–º –ì–∞–ª–∞–∫—Ç–∏–∫—É –¶–µ–Ω–Ω–æ—Å—Ç–µ–π...
            <div style="font-size: 14px; margin-top: 15px; color: #aaddff;">
                –ü—Ä–æ–µ–∫—Ç "–ú–æ–π –º–∏—Ä —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π"<br>
                –ì–∏–º–Ω–∞–∑–∏—è –∏–º. –ï.–ú. –ü—Ä–∏–º–∞–∫–æ–≤–∞
            </div>
        </div>
        
        <div class="header">
            <h1>‚ú® –ì–ê–õ–ê–ö–¢–ò–ö–ê –¶–ï–ù–ù–û–°–¢–ï–ô ‚ú®</h1>
            <p>–ú—É–∑–µ–π "–ú–æ–π –º–∏—Ä —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π"<br>
            –ù–∞–≤–µ–¥–∏ –Ω–∞ –∑–≤–µ–∑–¥—É ‚Äî —É–∑–Ω–∞–π —Ü–µ–Ω–Ω–æ—Å—Ç–∏ —É—á–µ–Ω–∏–∫–æ–≤</p>
        </div>
        

        <div class="controls">
            <button class="control-btn" onclick="openForm()">‚≠ê –î–û–ë–ê–í–ò–¢–¨ –ó–í–ï–ó–î–£</button>
            <button class="control-btn stats-btn" onclick="openStats()">üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê</button>
            <button class="control-btn info-btn" onclick="openInfo()">‚ÑπÔ∏è –û –ü–†–û–ï–ö–¢–ï</button>
        </div>
        
        <div class="tooltip" id="tooltip"></div>
    </div>

    <!-- –§–æ—Ä–º–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –∑–≤–µ–∑–¥—ã -->
    <div class="overlay" id="formOverlay">
        <div class="modal-container">
            <div class="modal-header">
                <h2>‚≠ê –î–û–ë–ê–í–õ–ï–ù–ò–ï –ó–í–ï–ó–î–´</h2>
                <button class="close-btn" onclick="closeForm()">√ó</button>
            </div>
            <form id="starForm">
                <div class="form-group">
                    <label for="studentName">1. –ö–∞–∫ —Ç–µ–±—è –∑–æ–≤—É—Ç?</label>
                    <input type="text" id="studentName" required placeholder="–ò–º—è –∏ —Ñ–∞–º–∏–ª–∏—è">
                </div>
                
                <div class="form-group">
                    <label for="studentClass">2. –ò–∑ –∫–∞–∫–æ–≥–æ —Ç—ã 

–∫–ª–∞—Å—Å–∞?</label>
                    <select id="studentClass" required>
                        <option value="">–í—ã–±–µ—Ä–∏ –∫–ª–∞—Å—Å</option>
                        <option value="1">1 –∫–ª–∞—Å—Å</option>
                        <option value="2">2 –∫–ª–∞—Å—Å</option>
                        <option value="3">3 –∫–ª–∞—Å—Å</option>
                        <option value="4">4 –∫–ª–∞—Å—Å</option>
                        <option value="5">5 –∫–ª–∞—Å—Å</option>
                        <option value="6">6 –∫–ª–∞—Å—Å</option>
                        <option value="7">7 –∫–ª–∞—Å—Å</option>
                        <option value="8">8 –∫–ª–∞—Å—Å</option>
                        <option value="9">9 –∫–ª–∞—Å—Å</option>
                        <option value="10">10 –∫–ª–∞—Å—Å</option>
                        <option value="11">11 –∫–ª–∞—Å—Å</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label>3. –ö–∞–∫–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å –¥–ª—è —Ç–µ–±—è –≤–∞–∂–Ω–∞?</label>
                    <div class="value-options" id="valueOptions">
                        <div class="value-option" data-value="–£–≤–∞–∂–µ–Ω–∏–µ">–£–≤–∞–∂–µ–Ω–∏–µ</div>
                        <div class="value-option" data-value="–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å">–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å</div>
                        <div class="value-option" data-value="–î—Ä—É–∂–±–∞">–î—Ä—É–∂–±–∞</div>
                        <div class="value-option" data-value="–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å">–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å</div>
                        <div class="value-option" data-

value="–°–ø–æ—Ä—Ç">–°–ø–æ—Ä—Ç</div>
                        <div class="value-option" id="otherOption">–î—Ä—É–≥–æ–µ</div>
                    </div>
                    <input type="text" id="customValue" placeholder="–¢–≤–æ—è —Ü–µ–Ω–Ω–æ—Å—Ç—å" style="display: none; margin-top: 10px;">
                    <input type="hidden" id="selectedValue" required>
                </div>
                
                <div class="form-group">
                    <label for="valueReason">4. –ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ?</label>
                    <textarea id="valueReason" required placeholder="–†–∞—Å—Å–∫–∞–∂–∏, –ø–æ—á–µ–º—É —Ç—ã –≤—ã–±—Ä–∞–ª(–∞) —ç—Ç—É —Ü–µ–Ω–Ω–æ—Å—Ç—å"></textarea>
                </div>
                
                <button type="submit" class="submit-btn">‚ú® –°–û–ó–î–ê–¢–¨ –ó–í–ï–ó–î–£</button>
            </form>
        </div>
    </div>

    <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
    <div class="overlay" id="statsOverlay">
        <div class="modal-container">
            <div class="modal-header">
                <h2>üìä –°–¢–ê–¢–ò–°–¢–ò–ö–ê –¶–ï–ù–ù–û–°–¢–ï–ô</h2>
                <button class="close-btn" onclick="closeStats()">√ó</

button>
            </div>
            <div class="stats-grid">
                <div class="stat-card">
                    <h3>–ú–æ–∏ –∑–≤—ë–∑–¥—ã</h3>
                    <div class="stat-value" id="totalStars">0</div>
                </div>
                <div class="stat-card">
                    <h3>–ú–æ–π –∫–ª–∞—Å—Å</h3>
                    <div class="stat-value" id="myClass">-</div>
                </div>
                <div class="stat-card">
                    <h3>–ì–ª–∞–≤–Ω–∞—è —Ü–µ–Ω–Ω–æ—Å—Ç—å</h3>
                    <div class="stat-value" id="myMainValue">-</div>
                </div>
                <div class="stat-card">
                    <h3>–ü–æ–ø—É–ª—è—Ä–Ω–∞—è</h3>
                    <div class="stat-value" id="popularValue">-</div>
                </div>
            </div>
            <div class="stat-card">
                <h3>–ú–æ–∏ —Ü–µ–Ω–Ω–æ—Å—Ç–∏</h3>
                <div class="distribution-list" id="myValuesDistribution">–£ —Ç–µ–±—è –ø–æ–∫–∞ –Ω–µ—Ç –∑–≤—ë–∑–¥</div>
            </div>
            
            <!-- –ö–ù–û–ü–ö–ê GOOGLE FORMS -->
            <a href="https://docs.google.com/forms/d/e/1FAIpQLSd3D5ypAsFGGBfoWOAlC1230iqpuaXgvyICj43VbYReOZfNuw/viewform?pli=1" 

               target="_blank" 
               class="google-form-btn">
                üìã –ó–ê–ü–û–õ–ù–ò–¢–¨ GOOGLE –§–û–†–ú–£ (–¥–ª—è –æ–±—â–µ–π –≥–∞–ª–∞–∫—Ç–∏–∫–∏)
            </a>
            
            <div style="margin-top: 15px; padding: 15px; background: rgba(255, 215, 0, 0.1); border-radius: 10px;">
                <p style="color: #ffd700; font-size: 13px; line-height: 1.4;">
                    <strong>üåü –î–≤–µ –≥–∞–ª–∞–∫—Ç–∏–∫–∏:</strong><br>
                    1. <strong>–õ–∏—á–Ω–∞—è</strong> ‚Äî —Ç–≤–æ–∏ –∑–≤—ë–∑–¥—ã (–∑–¥–µ—Å—å)<br>
                    2. <strong>–û–±—â–∞—è</strong> ‚Äî –∑–≤—ë–∑–¥—ã –≤—Å–µ–π –≥–∏–º–Ω–∞–∑–∏–∏ (Google –§–æ—Ä–º–∞)
                </p>
            </div>
        </div>
    </div>

    <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –ø—Ä–æ–µ–∫—Ç–µ (–î–ï–¢–°–ö–ê–Ø –í–ï–†–°–ò–Ø) -->
    <div class="overlay" id="infoOverlay">
        <div class="modal-container">
            <div class="modal-header">
                <h2>‚ÑπÔ∏è –û –ü–†–û–ï–ö–¢–ï</h2>
                <button class="close-btn" onclick="closeInfo()">√ó</button>
            </div>
            
            <!-- –ë–õ–û–ö 1: –ß—Ç–æ —ç—Ç–æ? -->

            <div class="info-block">
                <h3>‚ú® –ß–¢–û –≠–¢–û?</h3>
                <p><strong>–ì–∞–ª–∞–∫—Ç–∏–∫–∞ —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π –≥–∏–º–Ω–∞–∑–∏—Å—Ç–∞!</strong><br>
                –ö–∞–∂–¥–∞—è –∑–≤–µ–∑–¥–∞ = —á—Ç–æ-—Ç–æ –≤–∞–∂–Ω–æ–µ –¥–ª—è —É—á–µ–Ω–∏–∫–∞.</p>
            </div>
            
            <!-- –ë–õ–û–ö 2: –ó–∞—á–µ–º? -->
            <h3>üéØ –ó–ê–ß–ï–ú –≠–¢–û?</h3>
            <div class="feature-grid">
                <div class="feature-item">
                    <span class="feature-icon">üëÄ</span>
                    –£–∑–Ω–∞—Ç—å, —á—Ç–æ –≤–∞–∂–Ω–æ –¥–ª—è –¥—Ä—É–∑–µ–π
                </div>
                <div class="feature-item">
                    <span class="feature-icon">üí¨</span>
                    –ü–æ–¥–µ–ª–∏—Ç—å—Å—è —Å–≤–æ–∏–º –º–Ω–µ–Ω–∏–µ–º
                </div>
                <div class="feature-item">
                    <span class="feature-icon">üåü</span>
                    –£–≤–∏–¥–µ—Ç—å –∫–∞—Ä—Ç–∏–Ω—É —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π –≤—Å–µ–π –≥–∏–º–Ω–∞–∑–∏–∏
                </div>
                <div class="feature-item">
                    <span class="feature-icon">üéÆ</span>
                    –£—á–∞—Å—Ç–≤–æ–≤–∞—Ç—å –≤ –æ–±—â–µ–º –ø—Ä–æ–µ–∫—Ç–µ
                </div>
            </div>
            
            <!-- –ë–õ–û–ö 3: –ö—Ç–æ —Å–¥–µ–ª–∞–ª? -->
            <div class="info-block">

                <h3>üë§ –ö–¢–û –°–î–ï–õ–ê–õ?</h3>
                <p><strong>–ú–∞—Ç–≤–µ–π –õ–µ–≤—á–µ–Ω–∫–æ</strong>, 6 –ê –∫–ª–∞—Å—Å<br>
                <small>–ö—É—Ä–∞—Ç–æ—Ä –ó—ã–∫–æ–≤ –ú–∏—Ö–∞–∏–ª –ê–Ω–∞—Ç–æ–ª—å–µ–≤–∏—á</small></p>
            </div>
            
            <h3>üè´ –ì–∏–º–Ω–∞–∑–∏—è –∏–º. –ï.–ú. –ü—Ä–∏–º–∞–∫–æ–≤–∞</h3>
            
            <!-- –ë–õ–û–ö 4: –ö–∞–∫ –∏–≥—Ä–∞—Ç—å? -->
            <h3>üéÆ –ö–ê–ö –ò–ì–†–ê–¢–¨?</h3>
            <div class="step-list">
                <div class="step-item">
                    <strong>–î–æ–±–∞–≤–∏—Ç—å –∑–≤–µ–∑–¥—É</strong> ‚Äî —Ä–∞—Å—Å–∫–∞–∂–∏, —á—Ç–æ –¥–ª—è —Ç–µ–±—è –≤–∞–∂–Ω–æ
                </div>
                <div class="step-item">
                    <strong>–ò—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å –≥–∞–ª–∞–∫—Ç–∏–∫—É</strong> ‚Äî –Ω–∞–≤–µ–¥–∏ –Ω–∞ –∑–≤–µ–∑–¥—É, —É–∑–Ω–∞–π –º–Ω–µ–Ω–∏–µ –¥—Ä—É–≥–∞
                </div>
                <div class="step-item">
                    <strong>–ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É</strong> ‚Äî —É–∑–Ω–∞–π, –∫–∞–∫–∏–µ —Ü–µ–Ω–Ω–æ—Å—Ç–∏ –ø–æ–ø—É–ª—è—Ä–Ω—ã
                </div>
                <div class="step-item">
                    <strong>–ó–∞–ø–æ–ª–Ω–∏—Ç—å Google –§–æ—Ä–º—É</strong> ‚Äî —Å—Ç–∞–Ω—å —á–∞—Å—Ç—å—é –∏—Å—Ç–æ—Ä–∏–∏ –≥–∏–º–Ω–∞–∑–∏–∏!
                </div>
            </div>
            

            <!-- –ë–õ–û–ö 5: –î–≤–µ –≥–∞–ª–∞–∫—Ç–∏–∫–∏ -->
            <div class="info-block">
                <h3>üåü –î–í–ï –ì–ê–õ–ê–ö–¢–ò–ö–ò</h3>
                <p><strong>–õ–∏—á–Ω–∞—è</strong> ‚Äî —Ç–≤–æ–∏ –∑–≤—ë–∑–¥—ã (—Ç–æ–ª—å–∫–æ —Ç—ã –≤–∏–¥–∏—à—å)<br>
                <strong>–û–±—â–∞—è</strong> ‚Äî –∑–≤—ë–∑–¥—ã –≤—Å–µ–π –≥–∏–º–Ω–∞–∑–∏–∏ (–ø–æ—Å–ª–µ Google –§–æ—Ä–º—ã)</p>
            </div>
            
            <!-- –ö–ù–û–ü–ö–ê GOOGLE FORMS -->
            <a href="https://docs.google.com/forms/d/e/1FAIpQLSd3D5ypAsFGGBfoWOAlC1230iqpuaXgvyICj43VbYReOZfNuw/viewform?pli=1" 
               target="_blank" 
               class="google-form-btn">
                üìã –ü–ï–†–ï–ô–¢–ò –ö GOOGLE –§–û–†–ú–ï
            </a>
            
            <div style="margin-top: 20px; padding: 15px; background: rgba(100, 200, 255, 0.1); border-radius: 10px;">
                <p style="color: #66ccff; font-size: 14px; line-height: 1.4;">
                    üí° <strong>–°–æ–≤–µ—Ç:</strong> –°–Ω–∞—á–∞–ª–∞ –¥–æ–±–∞–≤—å —Å–≤–æ—é –∑–≤–µ–∑–¥—É –∑–¥–µ—Å—å,<br>
                    –ø–æ—Ç–æ–º –∑–∞–ø–æ–ª–Ω–∏ Google –§–æ—Ä–º—É!
                </p>
            </div>
        </div>
    </div>

    <script>
        // –ö–û–ù–§–ò–ì–£–†–ê–¶–ò–Ø
        const CONFIG = {
            INITIAL_STARS: 30,
            MAX_STAR_SIZE: 6,
            MIN_STAR_SIZE: 2,
            BACKGROUND_STARS: 150,
            GOOGLE_FORM_URL: "https://docs.google.com/forms/d/e/1FAIpQLSd3D5ypAsFGGBfoWOAlC1230iqpuaXgvyICj43VbYReOZfNuw/viewform?pli=1",
            VALUE_COLORS: {
                '–£–≤–∞–∂–µ–Ω–∏–µ': '#ff6666',
                '–û—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç—å': '#6699ff',
                '–î—Ä—É–∂–±–∞': '#ff9900',
                '–°–ø—Ä–∞–≤–µ–¥–ª–∏–≤–æ—Å—Ç—å': '#32cd32',
                '–°–ø–æ—Ä—Ç': '#9370db',
                '–î—Ä—É–≥–æ–π': '#ffdd00'
            }
        };
        
        // –≠–ª–µ–º–µ–Ω—Ç—ã
        const canvas = document.getElementById('canvas');
        const ctx = canvas.getContext('2d');
        const tooltip = document.getElementById('tooltip');
        
        // –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ
        let stars = [];
        let userStars = JSON.parse(localStorage.getItem('gymnasiumValues')) || [];

        let particles = [];
        let hoveredStar = null;
        let devicePixelRatio = window.devicePixelRatio || 1;
        let touchTimer = null;
        
        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
        function init() {
            setupCanvas();
            createStars(CONFIG.INITIAL_STARS);
            createBackgroundStars(CONFIG.BACKGROUND_STARS);
            loadUserStars();
            
            // –°–∫—Ä—ã–≤–∞–µ–º –∑–∞–≥—Ä—É–∑–∫—É
            setTimeout(() => {
                document.getElementById('loading').style.display = 'none';
                animate();
            }, 1500);
            
            // –°–æ–±—ã—Ç–∏—è
            window.addEventListener('resize', setupCanvas);
            canvas.addEventListener('mousemove', handleMouseMove);
            canvas.addEventListener('mouseleave', handleMouseLeave);
            canvas.addEventListener('click', handleStarClick);
            
            // –î–ª—è —Ç–µ–ª–µ—Ñ–æ–Ω–æ–≤
            if ('ontouchstart' in window) {

                canvas.addEventListener('touchstart', handleTouchStart, { passive: true });
                canvas.addEventListener('touchmove', handleTouchMove, { passive: true });
                canvas.addEventListener('touchend', handleTouchEnd);
            }
            
            setupForm();
            updateStats();
        }
        
        function setupCanvas() {
            const width = window.innerWidth;
            const height = window.innerHeight;
            
            canvas.width = width * devicePixelRatio;
            canvas.height = height * devicePixelRatio;
            canvas.style.width = width + 'px';
            canvas.style.height = height + 'px';
            
            if (devicePixelRatio > 1) {
                ctx.scale(devicePixelRatio, devicePixelRatio);
            }
        }
        
        function createStars(count) {
            const width = canvas.width / devicePixelRatio;
            const height = canvas.height / devicePixelRatio;
            

            for (let i = 0; i < count; i++) {
                const size = CONFIG.MIN_STAR_SIZE + Math.random() * (CONFIG.MAX_STAR_SIZE - CONFIG.MIN_STAR_SIZE);
                
                stars.push({
                    id: i,
                    x: Math.random() * width,
                    y: Math.random() * height,
                    originalX: Math.random() * width,
                    originalY: Math.random() * height,
                    baseSize: size,
                    currentSize: size,
                    color: getRandomStarColor(),
                    speed: 0.02 + Math.random() * 0.05,
                    angle: Math.random() * Math.PI * 2,
                    pulse: Math.random() * Math.PI * 2,
                    pulseSpeed: 0.005 + Math.random() * 0.01,
                    glow: 0,
                    isHovered: false
                });
            }
        }
        
        function getRandomStarColor() {
            const colors = Object.values(CONFIG.VALUE_COLORS);
            return colors[Math.floor(Math.random() * colors.length)];
        }

        
        function loadUserStars() {
            const width = canvas.width / devicePixelRatio;
            const height = canvas.height / devicePixelRatio;
            
            // –£–¥–∞–ª—è–µ–º —Å—Ç–∞—Ä—ã–µ –∑–≤—ë–∑–¥—ã –ú–∞—Ç–≤–µ—è
            stars = stars.filter(star => !star.isMatvey);
            
            // –°–û–ó–î–ê–Å–ú –ó–í–ï–ó–î–£ –ú–ê–¢–í–ï–Ø –í –¶–ï–ù–¢–†–ï
            stars.push({
                id: 999,
                x: width / 2,
                y: height / 2,
                originalX: width / 2,
                originalY: height / 2,
                baseSize: 7,
                currentSize: 7,
                color: CONFIG.VALUE_COLORS['–£–≤–∞–∂–µ–Ω–∏–µ'],
                name: "–ú–∞—Ç–≤–µ–π –õ–µ–≤—á–µ–Ω–∫–æ",
                class: "6 –∫–ª–∞—Å—Å",
                value: "–£–≤–∞–∂–µ–Ω–∏–µ",
                reason: "–£–≤–∞–∂–µ–Ω–∏–µ —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –¥–µ—Ä–∂–∏—Ç—Å—è –¥–æ–≤–µ—Ä–∏–µ –∏ –¥—Ä—É–∂–±–∞",
                speed: 0.01,
                angle: Math.random() * Math.PI * 2,
                pulse: Math.random() * Math.PI * 2,
                pulseSpeed: 0.003,
                glow: 2.0,
                isHovered: false,
                isUserStar: true,

                isMatvey: true,
                rotation: 0,
                rotationSpeed: 0.001 + Math.random() * 0.002
            });
            
            // –î–æ–±–∞–≤–ª—è–µ–º –∑–≤—ë–∑–¥—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
            userStars.forEach((starData, index) => {
                if (starData.name !== "–ú–∞—Ç–≤–µ–π –õ–µ–≤—á–µ–Ω–∫–æ") {
                    addStarToGalaxy(starData, 1000 + index);
                }
            });
            
            // –°–æ—Ö—Ä–∞–Ω—è–µ–º –∑–≤–µ–∑–¥—É –ú–∞—Ç–≤–µ—è –≤ localStorage
            const hasMatveyStar = userStars.some(star => star.name === "–ú–∞—Ç–≤–µ–π –õ–µ–≤—á–µ–Ω–∫–æ");
            if (!hasMatveyStar) {
                userStars.unshift({
                    name: "–ú–∞—Ç–≤–µ–π –õ–µ–≤—á–µ–Ω–∫–æ",
                    class: "6",
                    value: "–£–≤–∞–∂–µ–Ω–∏–µ",
                    reason: "–£–≤–∞–∂–µ–Ω–∏–µ —ç—Ç–æ —Ñ—É–Ω–¥–∞–º–µ–Ω—Ç –Ω–∞ –∫–æ—Ç–æ—Ä–æ–º –¥–µ—Ä–∂–∏—Ç—Å—è –¥–æ–≤–µ—Ä–∏–µ –∏ –¥—Ä—É–∂–±–∞",
                    timestamp: new Date().toISOString(),
                    isMatvey: true
                });
                localStorage.setItem('gymnasiumValues', JSON.stringify(userStars));
            }
        }
        

        function addStarToGalaxy(starData, id) {
            const width = canvas.width / devicePixelRatio;
            const height = canvas.height / devicePixelRatio;
            const size = 4 + Math.random() * 3;
            
            // –†–∞—Å–ø—Ä–µ–¥–µ–ª—è–µ–º –≤–æ–∫—Ä—É–≥ —Ü–µ–Ω—Ç—Ä–∞
            const centerX = width / 2;
            const centerY = height / 2;
            const radius = 100 + Math.random() * 200;
            const angle = Math.random() * Math.PI * 2;
            
            const x = centerX + Math.cos(angle) * radius;
            const y = centerY + Math.sin(angle) * radius;
            
            stars.push({
                id: id,
                x: x,
                y: y,
                originalX: x,
                originalY: y,
                baseSize: size,
                currentSize: size,
                color: CONFIG.VALUE_COLORS[starData.value] || CONFIG.VALUE_COLORS['–î—Ä—É–≥–æ–π'],
                name: starData.name,
                class: starData.class + ' –∫–ª–∞—Å—Å',
                value: starData.value,
                reason: starData.reason,
                speed: 0.02 + Math.random() * 0.05,
                angle: Math.random() * Math.PI * 2,

                pulse: Math.random() * Math.PI * 2,
                pulseSpeed: 0.005 + Math.random() * 0.01,
                glow: 1.0,
                isHovered: false,
                isUserStar: true,
                isMatvey: false,
                rotation: Math.random() * Math.PI * 2,
                rotationSpeed: 0.0005 + Math.random() * 0.001
            });
        }
        
        function createBackgroundStars(count) {
            for (let i = 0; i < count; i++) {
                particles.push({
                    x: Math.random() * canvas.width / devicePixelRatio,
                    y: Math.random() * canvas.height / devicePixelRatio,
                    size: Math.random() * 1.5,
                    brightness: 0.1 + Math.random() * 0.6,
                    speed: 0.01 + Math.random() * 0.03
                });
            }
        }
        
        function handleMouseMove(event) {
            const rect = canvas.getBoundingClientRect();
            const x = (event.clientX - rect.left) * (canvas.width / devicePixelRatio / rect.width);
            const y = (event.clientY - rect.top) * (canvas.height / 

devicePixelRatio / rect.height);
            
            if (hoveredStar) {
                hoveredStar.isHovered = false;
                hoveredStar.glow = hoveredStar.isUserStar ? (hoveredStar.isMatvey ? 2.0 : 1.0) : 0;
                hoveredStar = null;
            }
            
            tooltip.style.opacity = '0';
            
            let closestStar = null;
            let minDistance = Infinity;
            
            for (let star of stars) {
                const dx = x - star.x;
                const dy = y - star.y;
                const distance = Math.sqrt(dx * dx + dy * dy);
                const hoverRadius = star.currentSize * 15;
                
                if (distance < hoverRadius && distance < minDistance) {
                    minDistance = distance;
                    closestStar = star;
                }
            }
            
            if (closestStar) {
                closestStar.isHovered = true;
                closestStar.glow = closestStar.isMatvey ? 3.0 : 2.0;

                hoveredStar = closestStar;
                
                showTooltip(closestStar, event.clientX, event.clientY);
            }
        }
        
        function handleTouchStart(event) {
            if (event.touches.length === 1) {
                const touch = event.touches[0];
                const rect = canvas.getBoundingClientRect();
                const x = (touch.clientX - rect.left) * (canvas.width / devicePixelRatio / rect.width);
                const y = (touch.clientY - rect.top) * (canvas.height / devicePixelRatio / rect.height);
                
                let closestStar = null;
                let minDistance = Infinity;
                
                for (let star of stars) {
                    const dx = x - star.x;
                    const dy = y - star.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    const hoverRadius = star.currentSize * 20;
                    
                    if (distance < hoverRadius && distance < minDistance) {
                        minDistance = distance;
                        closestStar = star;
                    }

                }
                
                if (closestStar) {
                    closestStar.isHovered = true;
                    closestStar.glow = closestStar.isMatvey ? 3.0 : 2.0;
                    hoveredStar = closestStar;
                    
                    showTooltip(closestStar, touch.clientX, touch.clientY);
                    
                    // –ù–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É –Ω–∞ 2 —Å–µ–∫—É–Ω–¥—ã
                    if (touchTimer) clearTimeout(touchTimer);
                    touchTimer = setTimeout(() => {
                        tooltip.style.opacity = '0';
                        if (hoveredStar) {
                            hoveredStar.isHovered = false;
                            hoveredStar.glow = hoveredStar.isUserStar ? (hoveredStar.isMatvey ? 2.0 : 1.0) : 0;
                            hoveredStar = null;
                        }
                    }, 2000);
                }
            }
        }
        
        function handleTouchMove(event) {
            if (event.touches.length === 1) {
                const touch = event.touches[0];
                handleTouchStart(event);

            }
        }
        
        function handleTouchEnd() {
            if (touchTimer) clearTimeout(touchTimer);
        }
        
        function handleMouseLeave() {
            if (hoveredStar) {
                hoveredStar.isHovered = false;
                hoveredStar.glow = hoveredStar.isUserStar ? (hoveredStar.isMatvey ? 2.0 : 1.0) : 0;
                hoveredStar = null;
            }
            tooltip.style.opacity = '0';
        }
        
        function handleStarClick() {
            if (hoveredStar && hoveredStar.isUserStar) {
                hoveredStar.glow = hoveredStar.isMatvey ? 4.0 : 3.0;
                setTimeout(() => hoveredStar.glow = hoveredStar.isMatvey ? 2.0 : 1.0, 300);
            }
        }
        
        // ‚≠ê‚≠ê‚≠ê –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –ü–û–ö–ê–ó–ê –ü–û–î–°–ö–ê–ó–ö–ò ‚≠ê‚≠ê‚≠ê
        function showTooltip(star, clientX, clientY) {
            tooltip.innerHTML = star.isUserStar ? `
                <div class="star-name">‚≠ê ${star.name}</div>

                <div class="star-info"><strong>–ö–ª–∞—Å—Å:</strong> ${star.class}</div>
                <div class="star-info"><strong>–¶–µ–Ω–Ω–æ—Å—Ç—å:</strong> ${star.value}</div>
                <div class="star-info"><strong>–ü–æ—á–µ–º—É:</strong> ${star.reason}</div>
            ` : `
                <div class="star-name">‚ú® –ó–≤–µ–∑–¥–∞ –≥–∞–ª–∞–∫—Ç–∏–∫–∏</div>
                <div class="star-info">–ù–∞–∂–º–∏ "–î–æ–±–∞–≤–∏—Ç—å —Å–≤–æ—é –∑–≤–µ–∑–¥—É"!</div>
            `;
            
            // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–æ–¥—Å–∫–∞–∑–∫—É
            tooltip.style.opacity = '1';
            
            // –†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é —Å —É—á–µ—Ç–æ–º –≥—Ä–∞–Ω–∏—Ü —ç–∫—Ä–∞–Ω–∞
            const tooltipWidth = tooltip.offsetWidth;
            const tooltipHeight = tooltip.offsetHeight;
            
            // –ü–æ–∑–∏—Ü–∏—è –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (—Å–ø—Ä–∞–≤–∞ —Å–Ω–∏–∑—É –æ—Ç –∫—É—Ä—Å–æ—Ä–∞)
            let x = clientX + 15;
            let y = clientY + 15;
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–º–µ—â–∞–µ—Ç—Å—è –ª–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∞ —Å–ø—Ä–∞–≤–∞
            if (x + tooltipWidth > window.innerWidth) {
                // –ù–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è —Å–ø—Ä–∞–≤–∞ - —Ä–∞–∑–º–µ—â–∞–µ–º —Å–ª–µ–≤–∞
                x = clientX - tooltipWidth - 15;
                if (x < 5) x = 5; // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Ç—Å—Ç—É–ø –æ—Ç –∫—Ä–∞—è
            }

            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, –ø–æ–º–µ—â–∞–µ—Ç—Å—è –ª–∏ –ø–æ–¥—Å–∫–∞–∑–∫–∞ —Å–Ω–∏–∑—É
            if (y + tooltipHeight > window.innerHeight) {
                // –ù–µ –ø–æ–º–µ—â–∞–µ—Ç—Å—è —Å–Ω–∏–∑—É - —Ä–∞–∑–º–µ—â–∞–µ–º —Å–≤–µ—Ä—Ö—É
                y = clientY - tooltipHeight - 15;
                if (y < 5) y = 5; // –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –æ—Ç—Å—Ç—É–ø –æ—Ç –∫—Ä–∞—è
            }
            
            // –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ–±—ã –ø–æ–¥—Å–∫–∞–∑–∫–∞ –Ω–µ –≤—ã—Ö–æ–¥–∏–ª–∞ –∑–∞ –≤–µ—Ä—Ö–Ω–∏–π –∫—Ä–∞–π
            if (y < 5) {
                y = 5;
            }
            
            // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –ø–æ–∑–∏—Ü–∏—é
            tooltip.style.left = x + 'px';
            tooltip.style.top = y + 'px';
        }
        
        // ‚≠ê‚≠ê‚≠ê –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–Ø –†–ò–°–û–í–ê–ù–ò–Ø –ü–Ø–¢–ò–ö–û–ù–ï–ß–ù–û–ô –ó–í–ï–ó–î–´ ‚≠ê‚≠ê‚≠ê
        function drawStar(star, time) {
            // –ü—É–ª—å—Å–∞—Ü–∏—è —Ä–∞–∑–º–µ—Ä–∞
            star.pulse += star.pulseSpeed;
            const pulseFactor = 0.8 + Math.sin(star.pulse) * 0.2;
            const size = star.baseSize * pulseFactor;
            
            // –í—Ä–∞—â–µ–Ω–∏–µ –∑–≤–µ–∑–¥—ã
            star.rotation = star.rotation || 0;
            star.rotationSpeed = star.rotationSpeed || 0.001;

            star.rotation += star.rotationSpeed;
            
            // 1. –†–∏—Å—É–µ–º –ü–£–õ–¨–°–ò–†–£–Æ–©–ï–ï –°–í–ï–ß–ï–ù–ò–ï –≤–æ–∫—Ä—É–≥ –∑–≤–µ–∑–¥—ã
            if (star.glow > 0) {
                const glowSize = size * (3 + star.glow * 2 + Math.sin(time * 0.5) * 0.5);
                const gradient = ctx.createRadialGradient(
                    star.x, star.y, 0,
                    star.x, star.y, glowSize
                );
                
                gradient.addColorStop(0, star.color + 'cc');
                gradient.addColorStop(0.4, star.color + '88');
                gradient.addColorStop(0.7, star.color + '44');
                gradient.addColorStop(1, star.color + '00');
                
                ctx.fillStyle = gradient;
                ctx.beginPath();
                ctx.arc(star.x, star.y, glowSize, 0, Math.PI * 2);
                ctx.fill();
            }
            
            // 2. –†–∏—Å—É–µ–º –ü–Ø–¢–ò–ö–û–ù–ï–ß–ù–£–Æ –ó–í–ï–ó–î–£
            ctx.save();
            ctx.translate(star.x, star.y);
            ctx.rotate(star.rotation);
            
            // –†–∞–∑–º–µ—Ä—ã –¥–ª—è –ø—è—Ç–∏–∫–æ–Ω–µ—á–Ω–æ–π –∑–≤–µ–∑–¥—ã
            const outerRadius = size;

            const innerRadius = size * 0.4;
            
            // –ì—Ä–∞–¥–∏–µ–Ω—Ç –¥–ª—è –∑–≤–µ–∑–¥—ã
            const starGradient = ctx.createRadialGradient(0, 0, 0, 0, 0, outerRadius);
            starGradient.addColorStop(0, star.color);
            starGradient.addColorStop(0.7, star.color);
            starGradient.addColorStop(1, star.color + 'aa');
            
            ctx.fillStyle = starGradient;
            ctx.beginPath();
            
            // –†–∏—Å—É–µ–º –ø—è—Ç–∏–∫–æ–Ω–µ—á–Ω—É—é –∑–≤–µ–∑–¥—É
            for (let i = 0; i < 10; i++) {
                const angle = star.rotation + (i * Math.PI) / 5;
                const radius = i % 2 === 0 ? outerRadius : innerRadius;
                const x = Math.cos(angle) * radius;
                const y = Math.sin(angle) * radius;
                
                if (i === 0) ctx.moveTo(x, y);
                else ctx.lineTo(x, y);
            }
            
            ctx.closePath();
            ctx.fill();
            
            // –û–±–≤–æ–¥–∫–∞ –∑–≤–µ–∑–¥—ã
            ctx.strokeStyle = '#ffffff';
            ctx.lineWidth = 0.8;

            ctx.stroke();
            
            // 3. –Ø—Ä–∫–∏–π —Ü–µ–Ω—Ç—Ä –∑–≤–µ–∑–¥—ã —Å –≤—Ä–∞—â–∞—é—â–∏–º—Å—è —ç—Ñ—Ñ–µ–∫—Ç–æ–º
            ctx.fillStyle = star.isMatvey ? '#ffff88' : '#ffffff';
            ctx.beginPath();
            ctx.arc(0, 0, size * 0.3, 0, Math.PI * 2);
            ctx.fill();
            
            // 4. –í—Ä–∞—â–∞—é—â–∏–π—Å—è –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π —ç–ª–µ–º–µ–Ω—Ç
            ctx.fillStyle = star.color;
            ctx.beginPath();
            ctx.arc(0, 0, size * 0.15, 0, Math.PI * 2);
            ctx.fill();
            
            ctx.restore();
        }
        
        function drawBackgroundStars() {
            particles.forEach(p => {
                p.x -= p.speed;
                if (p.x < -10) {
                    p.x = canvas.width / devicePixelRatio + 10;
                    p.y = Math.random() * canvas.height / devicePixelRatio;
                }
                
                // –ú–µ—Ä—Ü–∞–Ω–∏–µ
                const twinkle = 0.6 + Math.sin(Date.now() * 0.001 + p.x * 0.01) * 0.4;

                
                ctx.fillStyle = `rgba(255, 255, 255, ${p.brightness * twinkle})`;
                ctx.beginPath();
                ctx.arc(p.x, p.y, p.size, 0, Math.PI * 2);
                ctx.fill();
            });
        }
        
        // –ì–∞—Ä–º–æ–Ω–∏—á–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –∑–≤—ë–∑–¥
        function animate() {
            const width = canvas.width / devicePixelRatio;
            const height = canvas.height / devicePixelRatio;
            const centerX = width / 2;
            const centerY = height / 2;
            const time = Date.now() * 0.001;
            
            // –ì—Ä–∞–¥–∏–µ–Ω—Ç–Ω—ã–π —Ñ–æ–Ω
            const gradient = ctx.createLinearGradient(0, 0, 0, height);
            gradient.addColorStop(0, '#000010');
            gradient.addColorStop(0.5, '#0a0015');
            gradient.addColorStop(1, '#05000a');
            ctx.fillStyle = gradient;
            ctx.fillRect(0, 0, width, height);
            
            drawBackgroundStars();
            
            // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ø–æ–∑–∏—Ü–∏–π –∑–≤—ë–∑–¥
            for (let star of stars) {

                // –ó–≤–µ–∑–¥–∞ –ú–∞—Ç–≤–µ—è - –ø–ª–∞–≤–Ω–æ–µ –¥–≤–∏–∂–µ–Ω–∏–µ –≤–æ–∫—Ä—É–≥ —Ü–µ–Ω—Ç—Ä–∞
                if (star.isMatvey) {
                    const orbitX = Math.cos(time * 0.1) * 30;
                    const orbitY = Math.sin(time * 0.13) * 20;
                    const waveX = Math.sin(time * 0.3) * 5;
                    const waveY = Math.cos(time * 0.2) * 5;
                    star.x = centerX + orbitX + waveX;
                    star.y = centerY + orbitY + waveY;
                }
                // –û—Å—Ç–∞–ª—å–Ω—ã–µ –∑–≤—ë–∑–¥—ã - –≤—Ä–∞—â–µ–Ω–∏–µ –≤–æ–∫—Ä—É–≥ —Ü–µ–Ω—Ç—Ä–∞ —Å —Ä–∞–∑–Ω–æ–π —Å–∫–æ—Ä–æ—Å—Ç—å—é
                else {
                    const dx = star.originalX - centerX;
                    const dy = star.originalY - centerY;
                    const distance = Math.sqrt(dx*dx + dy*dy);
                    
                    const orbitSpeed = 0.1 / (distance / 150 + 1);
                    const angle = time * orbitSpeed + (star.id * 0.01);
                    
                    const currentDist = distance * (0.95 + Math.sin(time * 0.08 + star.id) * 0.05);
                    const orbitX = Math.cos(angle) * currentDist;
                    const orbitY = Math.sin(angle) * currentDist * 0.8;
                    
                    star.x = centerX + orbitX;
                    star.y = centerY + orbitY;
                }
                
                // –ü—É–ª—å—Å–∞—Ü–∏—è

                star.pulse += star.pulseSpeed;
                
                drawStar(star, time);
            }
            
            requestAnimationFrame(animate);
        }
        
        // –§—É–Ω–∫—Ü–∏–∏ —Ñ–æ—Ä–º—ã
        function setupForm() {
            const form = document.getElementById('starForm');
            const valueOptions = document.querySelectorAll('.value-option');
            const customValueInput = document.getElementById('customValue');
            const selectedValueInput = document.getElementById('selectedValue');
            const otherOption = document.getElementById('otherOption');
            
            valueOptions.forEach(option => {
                option.addEventListener('click', function() {
                    valueOptions.forEach(opt => opt.classList.remove('selected'));
                    this.classList.add('selected');
                    
                    if (this === otherOption) {
                        customValueInput.style.display = 'block';
                        selectedValueInput.value = '';
                        customValueInput.focus();

                    } else {
                        customValueInput.style.display = 'none';
                        selectedValueInput.value = this.dataset.value;
                    }
                });
            });
            
            customValueInput.addEventListener('input', function() {
                selectedValueInput.value = this.value;
                if (this.value.trim()) {
                    valueOptions.forEach(opt => opt.classList.remove('selected'));
                    otherOption.classList.add('selected');
                    customValueInput.style.display = 'block';
                }
            });
            
            form.addEventListener('submit', function(e) {
                e.preventDefault();
                
                const name = document.getElementById('studentName').value.trim();
                const studentClass = document.getElementById('studentClass').value;
                const value = selectedValueInput.value.trim();
                const reason = document.getElementById('valueReason').value.trim();
                
                if (!name || !studentClass || !value || !reason) {

                    alert('–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–ø–æ–ª–Ω–∏ –≤—Å–µ –ø–æ–ª—è!');
                    return;
                }
                
                const starData = {
                    name: name,
                    class: studentClass,
                    value: value,
                    reason: reason,
                    timestamp: new Date().toISOString()
                };
                
                userStars.push(starData);
                localStorage.setItem('gymnasiumValues', JSON.stringify(userStars));
                
                addStarToGalaxy(starData, 2000 + userStars.length);
                closeForm();
                updateStats();
                
                showNotification('–¢–≤–æ—è –∑–≤–µ–∑–¥–∞ –¥–æ–±–∞–≤–ª–µ–Ω–∞! ‚ú®');
                form.reset();
                valueOptions.forEach(opt => opt.classList.remove('selected'));
                customValueInput.style.display = 'none';
                customValueInput.value = '';
                selectedValueInput.value = '';
            });
        }
        

        function showNotification(message) {
            const notification = document.createElement('div');
            notification.style.cssText = `
                position: fixed;
                top: 50%;
                left: 50%;
                transform: translate(-50%, -50%);
                background: linear-gradient(45deg, #32cd32, #00ced1);
                color: black;
                padding: 15px 25px;
                border-radius: 12px;
                font-weight: bold;
                z-index: 10001;
                box-shadow: 0 10px 30px rgba(50, 205, 50, 0.5);
                text-align: center;
                animation: fadeInOut 2s ease-in-out;
            `;
            
            const style = document.createElement('style');
            style.textContent = `
                @keyframes fadeInOut {
                    0%, 100% { opacity: 0; transform: translate(-50%, -50%) scale(0.8); }
                    20%, 80% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
                }
            `;
            
            document.head.appendChild(style);

            notification.textContent = message;
            document.body.appendChild(notification);
            
            setTimeout(() => {
                notification.remove();
                style.remove();
            }, 2000);
        }
        
        // –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞
        window.openForm = function() {
            document.getElementById('formOverlay').style.display = 'flex';
            document.getElementById('studentName').focus();
        };
        
        window.closeForm = function() {
            document.getElementById('formOverlay').style.display = 'none';
        };
        
        window.openStats = function() {
            updateStats();
            document.getElementById('statsOverlay').style.display = 'flex';
        };
        
        window.closeStats = function() {
            document.getElementById('statsOverlay').style.display = 'none';

        };
        
        window.openInfo = function() {
            document.getElementById('infoOverlay').style.display = 'flex';
        };
        
        window.closeInfo = function() {
            document.getElementById('infoOverlay').style.display = 'none';
        };
        
        // ‚≠ê‚≠ê‚≠ê –ò–°–ü–†–ê–í–õ–ï–ù–ù–ê–Ø –°–¢–ê–¢–ò–°–¢–ò–ö–ê ‚≠ê‚≠ê‚≠ê
        function updateStats() {
            // –§–∏–ª—å—Ç—Ä—É–µ–º –∑–≤—ë–∑–¥—ã, –∏—Å–∫–ª—é—á–∞—è –ú–∞—Ç–≤–µ—è
            const myStars = userStars.filter(star => !star.isMatvey);
            
            // –û–±—â–µ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–∏—Ö –∑–≤—ë–∑–¥
            document.getElementById('totalStars').textContent = myStars.length;
            
            if (myStars.length > 0) {
                // –ú–æ–π –∫–ª–∞—Å—Å (–∏–∑ –ø–æ—Å–ª–µ–¥–Ω–µ–π –¥–æ–±–∞–≤–ª–µ–Ω–Ω–æ–π –∑–≤–µ–∑–¥—ã)
                const lastStar = myStars[myStars.length - 1];
                document.getElementById('myClass').textContent = lastStar.class + ' –∫–ª–∞—Å—Å';
                
                // –ü–æ–¥—Å—á–∏—Ç—ã–≤–∞–µ–º —á–∞—Å—Ç–æ—Ç—É —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π

                const valueCount = {};
                myStars.forEach(star => {
                    const value = star.value || '–ù–µ —É–∫–∞–∑–∞–Ω–æ';
                    valueCount[value] = (valueCount[value] || 0) + 1;
                });
                
                // –ù–∞—Ö–æ–¥–∏–º —Å–∞–º—É—é —á–∞—Å—Ç—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å (–≥–ª–∞–≤–Ω—É—é)
                let mainValue = '-';
                let maxCount = 0;
                for (const [value, count] of Object.entries(valueCount)) {
                    if (count > maxCount) {
                        maxCount = count;
                        mainValue = value;
                    }
                }
                document.getElementById('myMainValue').textContent = mainValue.length > 10 ? mainValue.substring(0, 10) + '...' : mainValue;
                
                // –ù–∞—Ö–æ–¥–∏–º —Å–∞–º—É—é –ø–æ–ø—É–ª—è—Ä–Ω—É—é —Ü–µ–Ω–Ω–æ—Å—Ç—å —Å—Ä–µ–¥–∏ –≤—Å–µ—Ö
                let popularValue = '-';
                let popularCount = 0;
                for (const [value, count] of Object.entries(valueCount)) {
                    if (count > popularCount) {
                        popularCount = count;
                        popularValue = value;

                    }
                }
                document.getElementById('popularValue').textContent = popularValue.length > 10 ? popularValue.substring(0, 10) + '...' : popularValue;
                
                // –†–∞—Å–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —Ü–µ–Ω–Ω–æ—Å—Ç–µ–π
                let distributionHTML = '';
                const sortedValues = Object.entries(valueCount)
                    .sort((a, b) => b[1] - a[1])
                    .slice(0, 10); // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ç–æ–ø-10
                
                if (sortedValues.length > 0) {
                    sortedValues.forEach(([value, count]) => {
                        const percentage = Math.round((count / myStars.length) * 100);
                        const color = CONFIG.VALUE_COLORS[value] || CONFIG.VALUE_COLORS['–î—Ä—É–≥–æ–π'];
                        const displayValue = value.length > 15 ? value.substring(0, 15) + '...' : value;
                        distributionHTML += `
                            <div class="distribution-item">
                                <span style="min-width: 100px; color: ${color}; font-weight: bold;">${displayValue}</span>
                                <div style="flex: 1; height: 20px; background: rgba(255,255,255,0.1); border-radius: 10px; margin: 0 10px; overflow: hidden;">
                                    <div style="height: 100%; width: ${Math.max(5, percentage)}%; background: ${color}; border-

radius: 10px;"></div>
                                </div>
                                <span style="min-width: 70px; text-align: right; color: #aaddff; font-weight: bold;">
                                    ${count} (${percentage}%)
                                </span>
                            </div>
                        `;
                    });
                } else {
                    distributionHTML = '<div style="color: #aaddff; text-align: center; padding: 20px;">–ù–µ—Ç –¥–∞–Ω–Ω—ã—Ö</div>';
                }
                
                document.getElementById('myValuesDistribution').innerHTML = distributionHTML;
            } else {
                document.getElementById('myClass').textContent = '-';
                document.getElementById('myMainValue').textContent = '-';
                document.getElementById('popularValue').textContent = '-';
                document.getElementById('myValuesDistribution').innerHTML = 
                    '<div style="color: #aaddff; text-align: center; padding: 20px;">–£ —Ç–µ–±—è –ø–æ–∫–∞ –Ω–µ—Ç –∑–≤—ë–∑–¥. –î–æ–±–∞–≤—å –ø–µ—Ä–≤—É—é!</div>';

            }
        }
        
        // –ó–∞–ø—É—Å–∫ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
        window.addEventListener('load', init);
    </script>
</body>
</html>
